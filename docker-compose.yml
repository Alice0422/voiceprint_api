# Docker安装全模块

version: '3'
services:
  # MCP 接入点服务
  voiceprint-api:
    # 使用 GitHub Actions 构建的镜像（仓库名称已转换为小写和连字符）
    image: ghcr.io/alice0422/voiceprint-api:latest
    container_name: voiceprint-api
    restart: always
    networks:
      - default
    ports:
      - "8005:8005"
    security_opt:
      - seccomp:unconfined
    environment:
      - TZ=Asia/Shanghai
    volumes:
      # 配置文件目录（需要先创建 data/.voiceprint.yaml）
      - ./data:/app/data
    # 如果需要访问宿主机的 MySQL，取消下面的注释
    # extra_hosts:
    #   - "host.docker.internal:host-gateway"
networks:
  default:
